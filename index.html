<!DOCTYPE html>
<html lang="en">
	<head>
        <meta charset="utf-8">
        <title>Immobilien</title>
        <link rel="stylesheet" href="libs/bootstrap/css/bootstrap.min.css">
        <link rel="stylesheet" href="res/css/immobilien.css">

        <!-- ab hier auslagern in js-Datei -->
        <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC0PvpLCbWVhxSK5JsRibDD75qjcfpfZio">
        </script>
        <script type="text/javascript">
            function initialize() {
            var mapOptions = {
                center: new google.maps.LatLng(49.0167, 12.0833),
                zoom: 13
            };
            var map = new google.maps.Map(document.getElementById("map-canvas"),
                mapOptions);
            }
            google.maps.event.addDomListener(window, 'load', initialize);
        </script>
        <!-- bis hier auslagern in js-Datei -->
        
    </head>

    <body>

        <script src="libs/jquery-2.0.3.min.js"></script>
        <script src="libs/bootstrap/js/bootstrap.min.js"></script>
        <!-- The noUiSlider script and stylesheet -->
        <link href="libs/6.2.0/jquery.nouislider.css" rel="stylesheet">
        <script src="libs/6.2.0/jquery.nouislider.min.js"></script>

    	<div id="headline">
    		<h1 id="logo">
    			Mittelbayerische Immobilien
    		</h1>
    		
    	</div>
    	<div id="navigation-buttons">
    		<button type="button" class="btn btn-default" id="gesuche-button">			Gesuche
    		</button>
    		<button type="button" class="btn btn-default" id="anbieten-button">			Anbieten
    		</button>
    		<button type="button" class="btn btn-default" id="merkliste-button">		Meine Merkliste
    		</button>
    	</div>

        <div id="money-controls">
            Kosten
            <div id="moneyslider", class="slider-"></div>
            <input id="money-lower-input" class="inputClass">
            <input id="money-upper-input" class="inputClass">
        </div>

        <div id="rooms-controls">
            Anzahl der Zimmer
            <div id="roomsslider", class="slider-"></div>
            <input id="rooms-lower-input" class="inputClass">
            <input id="rooms-upper-input" class="inputClass">
        </div>

        <div id="size-controls">
            Wohnfläche
            <div id="sizeslider", class="slider-"></div>
            <input id="size-lower-input" class="inputClass">
            <input id="size-upper-input" class="inputClass">
        </div>

        <div id="date-controls">
            Einzugsdatum
            <div id="dateslider", class="slider-"></div>
            <input id="date-lower-input" class="inputClass">
            <input id="date-upper-input" class="inputClass">
        </div>
        
        <script>
            // Create a new date from a string, return as a timestamp.
            function timestamp(str){
                return new Date(str).getTime();   
            }

            // Create a list of day and monthnames.
            var
                weekdays = [
                    "Sunday", "Monday", "Tuesday",
                    "Wednesday", "Thursday", "Friday",
                    "Saturday"
                ],
                months = [
                    "January", "February", "March",
                    "April", "May", "June", "July",
                    "August", "September", "October",
                    "November", "December"
                ];

            // Append a suffix to dates.
            // Example: 23 => 23rd, 1 => 1st.
            function nth (d) {
              if(d>3 && d<21) return 'th';
              switch (d % 10) {
                    case 1:  return "st";
                    case 2:  return "nd";
                    case 3:  return "rd";
                    default: return "th";
                }
            }

            // Create a string representation of the date.
            function formatDate ( date ) {
                return weekdays[date.getDay()] + ", " +
                    date.getDate() + nth(date.getDate()) + " " +
                    months[date.getMonth()] + " " +
                    date.getFullYear();
            }

            // Write a date as a pretty value.
            function setDate( value ){
                $(this).html(formatDate(new Date(+value)));   
            }

            $("#moneyslider").noUiSlider({
                start: [ 250, 400 ],
                step: 10,
                connect: true,
                range: {
                    'min': [ 100 ],
                    'max': [ 1000 ]
                },
                serialization: {
                    lower: [
                      $.Link({
                        target: $('#money-lower-input'),
                        format: {
                            // Prefix the value with an Euro symbol
                            // Write the value using 1 decimal.
                            decimals: 0,
                            postfix: '\u20AC'
                        }
                      })
                    ],
                    

                    upper: [
                      $.Link({
                        target: $('#money-upper-input'),
                        format: {
                            // Prefix the value with an Euro symbol
                            // Write the value using 1 decimal.
                            decimals: 0,
                            postfix: '\u20AC'
                        }
                      })
                    ],
                }
            });

            $("#roomsslider").noUiSlider({
                start: [ 1, 6 ],
                step: 1,
                connect: true,
                range: {
                    'min': [ 1 ],
                    'max': [ 10 ]
                },
                serialization: {
                    lower: [
                      $.Link({
                        target: $('#rooms-lower-input'),
                        format: {
                            // Prefix the value with an Euro symbol
                            // Write the value using 1 decimal.
                            decimals: 0,
                        }
                      })
                    ],
                    

                    upper: [
                      $.Link({
                        target: $('#rooms-upper-input'),
                        format: {
                            // Prefix the value with an Euro symbol
                            // Write the value using 1 decimal.
                            decimals: 0,
                        }
                      })
                    ],
                }
            });

            $("#sizeslider").noUiSlider({
                start: [ 20, 100 ],
                step: 10,
                connect: true,
                range: {
                    'min': [ 20 ],
                    'max': [ 800 ]
                },
                serialization: {
                    lower: [
                      $.Link({
                        target: $('#size-lower-input'),
                        format: {
                            // Prefix the value with an Euro symbol
                            // Write the value using 1 decimal.
                            decimals: 0,
                            postfix: 'm²'
                        }
                      })
                    ],
                    

                    upper: [
                      $.Link({
                        target: $('#size-upper-input'),
                        format: {
                            // Prefix the value with an Euro symbol
                            // Write the value using 1 decimal.
                            decimals: 0,
                            postfix: 'm²'
                        }
                      })
                    ],
                }
            });

            $("#dateslider").noUiSlider({
                start: [ timestamp('2015'), timestamp('2016') ],
                connect: true,
                range: {
                    'min': timestamp('2014'),
                    'max': timestamp('2017')
                },
                // Steps of one week
                step: 7 * 24 * 60 * 60 * 1000,
                serialization: {
                    lower: [
                      $.Link({
                        target: $('#date-lower-input'),
                        method: setDate,
                        format: {
                            decimals: 0
                        }
                      })
                    ],
                    

                    upper: [
                      $.Link({
                        target: $('#date-upper-input'),
                        method: setDate,
                        format: {
                            decimals: 0
                        }
                      })
                    ],
                }
            });
        </script>
        
        <div id="map-canvas"/>

    	
    </body>


</html>